{"version":3,"sources":["components/NewPersonForm.js","components/NumberListItem.js","components/NumbersList.js","services/personService.js","components/Notification.js","App.js","reportWebVitals.js","index.js"],"names":["NewPersonForm","values","handleChange","handleSubmit","onSubmit","e","value","name","onChange","number","type","NumberListItem","person","handleDelete","onClick","id","NumbersList","persons","handleFilter","filter","map","baseUrl","axios","get","newObject","post","put","delete","Notification","message","severity","className","App","defaultValues","useState","setValues","search","setSearch","setPersons","fetchReady","setFetchReady","setMessage","useEffect","personService","then","response","data","console","log","updateFetch","handleReset","handleAdd","res","setTimeout","catch","err","error","handleUpdate","userData","window","confirm","target","preventDefault","existingUser","find","undefined","toUpperCase","includes","reportWebVitals","onPerfEntry","Function","getCLS","getFID","getFCP","getLCP","getTTFB","ReactDOM","render","StrictMode","document","getElementById"],"mappings":"6OAiBeA,EAfO,SAAC,GAA0C,IAAzCC,EAAwC,EAAxCA,OAAQC,EAAgC,EAAhCA,aAAcC,EAAkB,EAAlBA,aAC5C,OACE,uBAAMC,SAAU,SAACC,GAAD,OAAOF,EAAaE,IAApC,UACE,yCACQ,uBAAOC,MAAOL,EAAOM,KAAMA,KAAK,OAAOC,SAAUN,IACvD,uBAFF,WAGU,uBAAOI,MAAOL,EAAOQ,OAAQF,KAAK,SAASC,SAAUN,OAE/D,8BACE,wBAAQQ,KAAK,SAAb,uBCDOC,EARQ,SAAC,GAA4B,IAA3BC,EAA0B,EAA1BA,OAAQC,EAAkB,EAAlBA,aAC/B,OACE,gCACE,iCAAyBD,EAAOL,KAAhC,KAAwCK,EAAOH,SAApCG,EAAOL,MAClB,wBAAQO,QAAS,kBAAMD,EAAaD,EAAOG,GAAIH,EAAOL,OAAtD,wBCCSS,EAJK,SAAC,GAA2C,IAA1CC,EAAyC,EAAzCA,QAASC,EAAgC,EAAhCA,aAAcL,EAAkB,EAAlBA,aAC3C,OAAOI,EAAQE,OAAOD,GAAcE,KAAI,SAACR,GAAD,OAAa,cAAC,EAAD,CAAgBA,OAAQA,EAA0BC,aAAcA,GAA3BD,EAAOL,U,gBCH7Fc,EAAU,eAkBD,EAhBA,WACb,OAAOC,IAAMC,IAAIF,IAeJ,EAZA,SAAAG,GACb,OAAOF,IAAMG,KAAKJ,EAASG,IAWd,EARA,SAACT,EAAIS,GAClB,OAAOF,IAAMI,IAAN,UAAaL,EAAb,YAAwBN,GAAMS,IAOxB,EAJI,SAACT,GAClB,OAAOO,IAAMK,OAAN,UAAgBN,EAAhB,YAA2BN,KCDrBa,G,MAZM,SAAC,GAA2B,IAAzBC,EAAwB,EAAxBA,QAASC,EAAe,EAAfA,SAC/B,MAAgB,KAAZD,EACK,KAIP,qBAAKE,UAAwB,UAAbD,EAAuB,QAAU,UAAjD,SACGD,MCyHQG,EA5HH,WAGV,IAAMC,EAAgB,CACpB1B,KAAM,GACNE,OAAQ,IALM,EAOYyB,mBAASD,GAPrB,mBAOThC,EAPS,KAODkC,EAPC,OAQYD,mBAAS,IARrB,mBAQTE,EARS,KAQDC,EARC,OAScH,mBAAS,IATvB,mBASTjB,EATS,KASAqB,EATA,OAUoBJ,oBAAS,GAV7B,mBAUTK,EAVS,KAUGC,EAVH,OAWcN,mBAAS,CAACL,QAAS,GAAIC,SAAU,KAX/C,mBAWTD,EAXS,KAWAY,EAXA,KAchBC,qBAAU,WACNC,IACCC,MAAK,SAAAC,GACJP,EAAWO,EAASC,WAEvB,CAACP,IAEJQ,QAAQC,IAAI/B,GAEZ,IAAMgC,EAAc,WAClBT,GAAeD,IAWXW,EAAc,WAClBf,EAAUF,IA4BNkB,EAAY,WAChB,IAAMvC,EAAS,CAAEL,KAAMN,EAAOM,KAAME,OAAQR,EAAOQ,QACjDkC,EAAqB/B,GACpBgC,MAAK,SAAAQ,GACJL,QAAQC,IAAI,2BAA2BI,GACvCX,EAAW,CAACZ,QAAQ,SAAD,OAAWjB,EAAOL,MAAQuB,SAAU,YACvDuB,YAAW,kBAAMZ,EAAW,CAACZ,QAAS,GAAIC,SAAU,OAAM,KAC1DoB,IACAD,OAECK,OAAM,SAAAC,GACLR,QAAQC,IAAIO,EAAIV,SAASC,MACzBL,EAAW,CAACZ,QAAS0B,EAAIV,SAASC,KAAKU,MAAO1B,SAAU,UACxDuB,YAAW,kBAAMZ,EAAW,CAACZ,QAAS,GAAIC,SAAU,OAAM,SAI5D2B,EAAe,SAACC,GAEjBC,OAAOC,QAAP,UAAkBF,EAASnD,KAA3B,4EACCoC,EAAqBe,EAAS3C,GAAI2C,GACjCd,MAAK,SAAAQ,GACJL,QAAQC,IAAII,GACZX,EAAW,CAACZ,QAAQ,WAAD,OAAa6B,EAASnD,MAAQuB,SAAU,YAC3DuB,YAAW,kBAAMZ,EAAW,CAACZ,QAAS,GAAIC,SAAU,OAAM,KAC1DoB,IACAD,OAEDK,OAAM,SAAAC,GACLR,QAAQC,IAAIO,EAAIV,SAASC,MACzBL,EAAW,CAACZ,QAAQ,kBAAD,OAAoB6B,EAASnD,KAA7B,yCAA0EuB,SAAU,UACvGmB,IACAI,YAAW,kBAAMZ,EAAW,CAACZ,QAAS,GAAIC,SAAU,OAAM,SAKlE,OACE,gCACE,2CACA,cAAC,EAAD,CAAcD,QAASA,EAAQA,QAASC,SAAUD,EAAQC,WAF5D,oBAIE,uBAAOxB,MAAO8B,EAAQ5B,SAAU,SAAAH,GAAC,OAAIgC,EAAUhC,EAAEwD,OAAOvD,UACxD,4CACA,cAAC,EAAD,CACEJ,aA9Ee,SAACG,GAAO,IAAD,EACJA,EAAEwD,OAAjBvD,EADmB,EACnBA,MAAOC,EADY,EACZA,KACd4B,EAAU,2BAAIlC,GAAL,kBAAcM,EAAOD,MA6E1BH,aAxEe,SAACE,GACpBA,EAAEyD,iBACF,IAAMC,EAAe9C,EAAQ+C,MAAK,SAAApD,GAAM,OAAIA,EAAOL,OAASN,EAAOM,QAC7DmD,EAAQ,2BAAOK,GAAP,IAAqBtD,OAAQR,EAAOQ,cACjCwD,IAAjBF,EAA6BN,EAAaC,GAAYP,KAqElDlD,OAAQA,IAEV,yCACA,cAAC,EAAD,CACEgB,QAASA,EACTC,aAxFe,SAACN,GACpB,OAAOA,EAAOL,KAAK2D,cAAcC,SAAS/B,EAAO8B,gBAwF7CrD,aAxEe,SAACE,EAAIR,GACrBoD,OAAOC,QAAP,iBAAyBrD,KACxBoC,EAAyB5B,GACxB6B,MAAK,SAAAQ,GACJd,EAAWrB,EAAQE,QAAO,SAAAP,GAAM,OAAIG,IAAOH,EAAOG,OAClDgC,QAAQC,IAAI,eAAgBI,GAC5BX,EAAW,CAACZ,QAAQ,WAAD,OAAatB,GAAQuB,SAAU,UAClDuB,YAAW,kBAAMZ,EAAW,CAACZ,QAAS,GAAIC,SAAU,OAAM,KAC1DmB,OAGDK,OAAM,SAAAC,GACLR,QAAQC,IAAIO,EAAIV,SAASC,MACzBL,EAAW,CAACZ,QAAQ,kBAAD,OAAoBtB,EAApB,yCAAiEuB,SAAU,UAC9FmB,IACAI,YAAW,kBAAMZ,EAAW,CAACZ,QAAS,GAAIC,SAAU,OAAM,eCvDrDsC,EAZS,SAAAC,GAClBA,GAAeA,aAAuBC,UACxC,6BAAqB1B,MAAK,YAAkD,IAA/C2B,EAA8C,EAA9CA,OAAQC,EAAsC,EAAtCA,OAAQC,EAA8B,EAA9BA,OAAQC,EAAsB,EAAtBA,OAAQC,EAAc,EAAdA,QAC3DJ,EAAOF,GACPG,EAAOH,GACPI,EAAOJ,GACPK,EAAOL,GACPM,EAAQN,OCDdO,IAASC,OACP,cAAC,IAAMC,WAAP,UACE,cAAC,EAAD,MAEFC,SAASC,eAAe,SAM1BZ,M","file":"static/js/main.21e6f970.chunk.js","sourcesContent":["import React from 'react'\n\nconst NewPersonForm = ({values, handleChange, handleSubmit}) => {\n  return(\n    <form onSubmit={(e) => handleSubmit(e)}>\n      <div>\n        name: <input value={values.name} name='name' onChange={handleChange} />\n        <br/>\n        number: <input value={values.number} name='number' onChange={handleChange} />\n      </div>\n      <div>\n        <button type=\"submit\">add</button>\n      </div>\n    </form>\n  )\n}\n\nexport default NewPersonForm","import React from 'react'\n\nconst NumberListItem = ({person, handleDelete}) => {\n  return (\n    <div>\n      <span key={person.name}>{person.name}: {person.number}</span>\n      <button onClick={() => handleDelete(person.id, person.name)}>Delete</button>\n    </div>\n    )\n}\nexport default NumberListItem\n\n","import React from 'react'\nimport NumberListItem from './NumberListItem'\n\nconst NumbersList = ({persons, handleFilter, handleDelete}) => {\n  return persons.filter(handleFilter).map((person) => (<NumberListItem person={person} key={person.name} handleDelete={handleDelete} />))\n}\n\nexport default NumbersList","import axios from 'axios'\nconst baseUrl = '/api/persons'\n\nconst getAll = () => {\n  return axios.get(baseUrl)\n}\n\nconst create = newObject => {\n  return axios.post(baseUrl, newObject)\n}\n\nconst update = (id, newObject) => {\n  return axios.put(`${baseUrl}/${id}`, newObject)\n}\n\nconst deleteById = (id) => {\n  return axios.delete(`${baseUrl}/${id}`)\n}\n\nexport default {\n  getAll: getAll,\n  create: create,\n  update: update,\n  deleteById: deleteById\n}","import React from 'react'\nimport './notification.css'\n\nconst Notification = ({ message, severity }) => {\n  if (message === '') {\n    return null\n  }\n\n  return (\n    <div className={severity === 'error' ? 'error' : 'success'}>\n      {message}\n    </div>\n  )\n}\n\nexport default Notification","import React, {useState, useEffect} from 'react'\nimport NewPersonForm from \"./components/NewPersonForm\";\nimport NumbersList from \"./components/NumbersList\";\nimport personService from \"./services/personService\"\nimport Notification from \"./components/Notification\";\n\n\nconst App = () => {\n\n  // Default states\n  const defaultValues = {\n    name: '',\n    number: ''\n  }\n  const [values, setValues] = useState(defaultValues)\n  const [search, setSearch] = useState('')\n  const [persons, setPersons] = useState([])\n  const [fetchReady, setFetchReady] = useState(false) // Data fetch tracks changes of this value\n  const [message, setMessage] = useState({message: '', severity: ''})\n\n  // Fetch data\n  useEffect(() => {\n      personService.getAll()\n      .then(response => {\n        setPersons(response.data)\n      })\n  }, [fetchReady]) // Fetch new data when handleAdd(), handleDelete() or handleUpdate() are called\n\n  console.log(persons)\n\n  const updateFetch = () => {\n    setFetchReady(!fetchReady)\n  }\n\n  // Handlers\n  const handleFilter = (person) => {\n    return person.name.toUpperCase().includes(search.toUpperCase())\n  }\n  const handleChange = (e) => {\n    const {value, name} = e.target\n    setValues({...values, [name]: value})\n  }\n  const handleReset = () => { // Reset to default state\n    setValues(defaultValues)\n  }\n  const handleSubmit = (e) => {\n    e.preventDefault() // Prevent default send of the form\n    const existingUser = persons.find(person => person.name === values.name) // Look for duplicates\n    const userData = {...existingUser, number: values.number}\n    existingUser !== undefined ? handleUpdate(userData) : handleAdd()\n  }\n\n  const handleDelete = (id, name) => {\n    if(window.confirm(`Delete ${name}`)){\n        personService.deleteById(id)\n        .then(res => {\n          setPersons(persons.filter(person => id !== person.id))\n          console.log(\"deleted user\", res)\n          setMessage({message: `Removed ${name}`, severity: 'error'})\n          setTimeout(() => setMessage({message: '', severity: ''}), 2000)\n          updateFetch()\n\n        })\n        .catch(err => {\n          console.log(err.response.data)\n          setMessage({message: `Information of ${name} has already been removed from server`, severity: 'error'})\n          updateFetch()\n          setTimeout(() => setMessage({message: '', severity: ''}), 2000)\n        })\n    }\n  }\n  const handleAdd = () => {\n    const person = { name: values.name, number: values.number }\n      personService.create(person)\n      .then(res => {\n        console.log(\"Succesfully added person\",res)\n        setMessage({message: `Added ${person.name}`, severity: 'success'})\n        setTimeout(() => setMessage({message: '', severity: ''}), 2000)\n        handleReset()\n        updateFetch()\n      })\n        .catch(err => {\n          console.log(err.response.data)\n          setMessage({message: err.response.data.error, severity: 'error'})\n          setTimeout(() => setMessage({message: '', severity: ''}), 4000)\n        })\n  }\n\n  const handleUpdate = (userData) => {\n    //console.log(userData)\n    if(window.confirm(`${userData.name} is already added to phonebook, replace the old number with a new one?`)){\n        personService.update(userData.id, userData)\n        .then(res => {\n          console.log(res)\n          setMessage({message: `Updated ${userData.name}`, severity: 'success'})\n          setTimeout(() => setMessage({message: '', severity: ''}), 2000)\n          handleReset()\n          updateFetch()\n        })\n        .catch(err => {\n          console.log(err.response.data)\n          setMessage({message: `Information of ${userData.name} has already been removed from server`, severity: 'error'})\n          updateFetch()\n          setTimeout(() => setMessage({message: '', severity: ''}), 2000)\n        })\n    }\n  }\n\n  return (\n    <div>\n      <h2>Phonebook</h2>\n      <Notification message={message.message} severity={message.severity}/>\n      filter shown with\n      <input value={search} onChange={e => setSearch(e.target.value)}/>\n      <h3>Add a new:</h3>\n      <NewPersonForm\n        handleChange={handleChange}\n        handleSubmit={handleSubmit}\n        values={values}\n      />\n      <h2>Numbers</h2>\n      <NumbersList\n        persons={persons}\n        handleFilter={handleFilter}\n        handleDelete={handleDelete}\n      />\n    </div>\n  )\n\n}\n\nexport default App\n","const reportWebVitals = onPerfEntry => {\n  if (onPerfEntry && onPerfEntry instanceof Function) {\n    import('web-vitals').then(({ getCLS, getFID, getFCP, getLCP, getTTFB }) => {\n      getCLS(onPerfEntry);\n      getFID(onPerfEntry);\n      getFCP(onPerfEntry);\n      getLCP(onPerfEntry);\n      getTTFB(onPerfEntry);\n    });\n  }\n};\n\nexport default reportWebVitals;\n","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport './index.css';\nimport App from './App';\nimport reportWebVitals from './reportWebVitals';\n\nReactDOM.render(\n  <React.StrictMode>\n    <App />\n  </React.StrictMode>,\n  document.getElementById('root')\n);\n\n// If you want to start measuring performance in your app, pass a function\n// to log results (for example: reportWebVitals(console.log))\n// or send to an analytics endpoint. Learn more: https://bit.ly/CRA-vitals\nreportWebVitals();\n"],"sourceRoot":""}